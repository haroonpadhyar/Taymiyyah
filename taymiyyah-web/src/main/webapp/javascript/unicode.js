ALLAH=0xFDF2;
AKBAR=0xFDF3;
MUHAMMAD=0xFDF4;
PBUH=0xFDFA;
JALLAJALALAHU=0xFDFB;
BISMILLAH=0xFDFD;
SIGN_PBUH=0x0610;
SIGN_ALYSLAM=0x0611;
SIGN_RAHMNAT_ALEY=0x0612;
SIGN_RAZI_ALLAH=0x0613;
SIGN_TALHALUS=0x0614;//
/**
 * TODO. This file should have all unicode related codes and functions.
 * Functions for both writing and editing 
 * Codes are in HEX format.
 */

//---------Special
BACK_SPACE=0x0008;
SPACE=0x0020;
ENTER=0x000D;
DELETE=0x002E;
SHIFT=0x0010;

//---------counting------------
ZERO=0x0030;
ONE=0x0031;
TWO=0x0032;
THREE=0x0033;
FOUR=0x0034;
FIVE=0x0035;
SIX=0x0036;
SEVEN=0x0037;
EIGHT=0x0038;
NINE=0x0039;

//----------Capital Letter
A=0x0041;
B=0x0042;
C=0x0043;
D=0x0044;
E=0x0045;
F=0x0046;
G=0x0047;
H=0x0048;
I=0x0049;
J=0x004A;
K=0x004B;
L=0x004C;
M=0x004D;
N=0x004E;
O=0x004F;
P=0x0050;
Q=0x0051;
R=0x0052;
S=0x0053;
T=0x0054;
U=0x0055;
V=0x0056;
W=0x0057;
X=0x0058;
Y=0x0059;
Z=0x005A;

//---------Small Letter
a=0x0061;
b=0x0062;
c=0x0063;
d=0x0064;
e=0x0065;
f=0x0066;
g=0x0067;
h=0x0068;
i=0x0069;
j=0x006A;
k=0x006B;
l=0x006C;
m=0x006D;
n=0x006E;
o=0x006F;
p=0x0070;
q=0x0071;
r=0x0072;
s=0x0073;
t=0x0074;
u=0x0075;
v=0x0076;
w=0x0077;
x=0x0078;
y=0x0079;
z=0x007A;

//-------------------URDU-------------------

//----------Urdu Counting
UZERO=0x0660;
UONE=0x0661;
UTWO=0x0662;
UTHREE=0x0663;
UFOUR=0x0664;
UFIVE=0x06F5;//EXTENDED
USIX=0x0666;
USEVEN=0x0667;
UEIGHT=0x0668;
UNINE=0x0669;

//----------Urdu Letter
ALIPH_MADDA=0x0622;
ALIPH=0x0627;
BEY=0x0628;
PEY=0x067E;
TEY=0x062A;
TTEY=0x0679;
SEY=0x062B;
JEEM=0x062C;
CHEY=0x0686;
HAH=0x062D;
KHAH=0x062E;
DAAL=0x062F;
DDAAL=0x0688;
ZAAL=0x0630;
REY=0x0631;
RREY=0x0691;
ZEY=0x0632;
ZZEY=0x0698;
SEEN=0x0633;
SHEEN=0x0634;
SAAD=0x0635;
ZAAD=0x0636;
TAI=0x0637;
ZAI=0x0638;
AIN=0x0639;
GHAIN=0x063A;
FEY=0x0641;
QAF=0x0642;
KAF=0x0643;
GAF=0x06AF;
LAM=0x0644;
MEEM=0x0645;
NOON=0x0646;
NOON_GHUNNA=0x06BA;
HEH=0x0647;//0x06C1; HEH with hook but not suppotred in textarea
WAO=0x0648;
HAMZA=0x0621;
YEH=0x0649;
YYEH=0x064A;//0xFBAF;//

ARABIC_COMMA=0x060C;
ARABIC_SEMICOLON=0x061B;
ARABIC_QUESTION_MARK=0x061F;
TATWEEL=0x0640;
FATHATAN=0x064B;
DAMMATAN=0x064C;
KASRATAN=0x064D;
FATHA=0x064E;
DAMMA=0x064F;
KASRA=0x0650;
SHADDA=0x0651;
SUKUN=0x0652;
MADDAH_ABOVE=0x0653;
HAMZA_ABOVE=0x0654;
HAMZA_BELOW=0x0655;
FIVE_POINTED_STAR=0x066D;
SUPERSCRIPT_ALEF=0x0670; 
ARABIC_FULL_STOP=0x06D4;
HIGH_SAD_LAM_ALEF_MAKSURA=0x06D6;//Ctrl
HIGH_QAF_LAM_ALEF_MAKSURA=0x06D7;//
HIGH_MEEM_INIT=0x06D8;//
HIGH_LAM_ALEF=0x06D9;//
HIGH_JEEM=0x06DA;//
HIGH_THREE_DOTS=0x06DB;//
HIGH_SEEN=0x06DC;//
END_AYAH=0x06DD;//
HIGH_ROUNDED_ZERO=0x06DF;//
HIGH_RECTANGULAR_ZERO=0x06E0; //
HIGH_KHAH_HEAD=0x06E1;//
HIGH_MEEM_ISO=0x06E2;//
LOW_SEEN=0x06E2;//
HIGH_YEH=0x06E7;//
HIGH_NOON=0x06E8;//
SAJDAH_PLACE=0x06E9;//
LOW_MEEM_ISO=0x06ED;//
LEFT_PARENTHESIS=0xFD3E;
RIGHT_PARENTHESIS=0xFD3F;

arabicLetters = new Array();
arabicLetters [0] = -1;
arabicLetters [1] = -1;
arabicLetters [2] = -1;
arabicLetters [3] = -1;
arabicLetters [4] = -1;
arabicLetters [5] = -1;
arabicLetters [6] = -1;
arabicLetters [7] = -1;
arabicLetters [8] = -1;
arabicLetters [9] = -1;
arabicLetters [10] = -1;
arabicLetters [11] = -1;
arabicLetters [12] = -1;
arabicLetters [13] = -1;
arabicLetters [14] = -1;
arabicLetters [15] = -1;
arabicLetters [16] = -1;
arabicLetters [17] = -1;
arabicLetters [18] = -1;
arabicLetters [19] = -1;
arabicLetters [20] = -1;
arabicLetters [21] = -1;
arabicLetters [22] = -1;
arabicLetters [23] = -1;
arabicLetters [24] = -1;
arabicLetters [25] = -1;
arabicLetters [26] = -1;
arabicLetters [27] = -1;
arabicLetters [28] = -1;
arabicLetters [29] = -1;
arabicLetters [30] = -1;
arabicLetters [31] = -1;
arabicLetters [32] = SPACE;
arabicLetters [33] = -1;
arabicLetters [34] = -1;
arabicLetters [35] = -1;
arabicLetters [36] = -1;
arabicLetters [37] = -1;
arabicLetters [38] = -1;
arabicLetters [39] = -1;
arabicLetters [40] = -1;
arabicLetters [41] = -1;
arabicLetters [42] = -1;
arabicLetters [43] = -1;
arabicLetters [44] = -1;
arabicLetters [45] = -1;
arabicLetters [46] = -1;
arabicLetters [47] = -1;
arabicLetters [48] = UZERO;
arabicLetters [49] = UONE;
arabicLetters [50] = UTWO;
arabicLetters [51] = UTHREE;
arabicLetters [52] = UFOUR;
arabicLetters [53] = UFIVE;
arabicLetters [54] = USIX;
arabicLetters [55] = USEVEN;
arabicLetters [56] = UEIGHT;
arabicLetters [57] = UNINE;
arabicLetters [58] = -1;
arabicLetters [59] = ARABIC_SEMICOLON;
arabicLetters [60] = TATWEEL;
arabicLetters [61] = 0x003D; //ascii of =
arabicLetters [62] = -1;
arabicLetters [63] = -1;
arabicLetters [64] = -1;
arabicLetters [65] = ALIPH;
arabicLetters [66]= BEY;
arabicLetters [67] = CHEY;
arabicLetters [68] = DAAL;
arabicLetters [69] = AIN;
arabicLetters [70] = FEY;
arabicLetters [71] = GAF;
arabicLetters [72] = HAH;
arabicLetters [73] = KASRA;
arabicLetters [74] = JEEM;
arabicLetters [75] = KAF;
arabicLetters [76] = LAM;
arabicLetters [77] = MEEM;
arabicLetters [78] = NOON;
arabicLetters [79] = DAMMA;
arabicLetters [80] = PEY;
arabicLetters [81] = QAF;
arabicLetters [82] = REY;
arabicLetters [83] = SEEN;
arabicLetters [84] = TEY;
arabicLetters [85] = HAMZA;
arabicLetters [86] = TAI;
arabicLetters [87] = WAO;
arabicLetters [88] = SAAD;
arabicLetters [89] = YEH;
arabicLetters [90] = ZAAL;
arabicLetters [91] = 0x003A;// ascii of :
arabicLetters [92] = -1;
arabicLetters [93] = 0x002B; // ascii of +
arabicLetters [94] = -1;
arabicLetters [95] = -1;
arabicLetters [96] = -1;
arabicLetters [97] = ALIPH_MADDA;
arabicLetters [98] = -1;//BISMILLAH;
arabicLetters [99] = SEY;
arabicLetters [100] = DDAAL;
arabicLetters [101] = FATHA;
arabicLetters [102] = FATHATAN;
arabicLetters [103] = GHAIN;
arabicLetters [104] = HEH;
arabicLetters [105] = KASRATAN;
arabicLetters [106] = -1;//JALLAJALALAHU;
arabicLetters [107] = KHAH;
arabicLetters [108] = -1;
arabicLetters [109] = -1;//MUHAMMAD;
arabicLetters [110] = NOON_GHUNNA;
arabicLetters [111] = DAMMATAN;
arabicLetters [112] = -1;//PBUH;
arabicLetters [113] = HAMZA_BELOW;
arabicLetters [114] = RREY;
arabicLetters [115] = SHEEN;
arabicLetters [116] = TTEY;
arabicLetters [117] = HAMZA_ABOVE;
arabicLetters [118] = ZAI;
arabicLetters [119] = ZZEY;
arabicLetters [120] = ZAAD;
arabicLetters [121] = YYEH;
arabicLetters [122] = ZEY;
arabicLetters [123] = -1;
arabicLetters [124] = -1;
arabicLetters [125] = -1;
arabicLetters [126] = -1;
arabicLetters [127] = -1;
arabicLetters [128] = -1;
arabicLetters [129] = -1;
arabicLetters [130] = -1;
arabicLetters [131] = RIGHT_PARENTHESIS;
arabicLetters [132] = 0x0021; // ascii of !
arabicLetters [133] = -1;//AKBAR;
arabicLetters [134] = ALLAH;
arabicLetters [135] = 0x0024; //ascii $
arabicLetters [136] = 0x0025; //ascii %
arabicLetters [137] = SHADDA;
arabicLetters [138] = END_AYAH;
arabicLetters [139] = FIVE_POINTED_STAR;
arabicLetters [140] = LEFT_PARENTHESIS;
arabicLetters [141] = -1;
arabicLetters [142] = -1;
arabicLetters [143] = -1;
arabicLetters [144] = -1;
arabicLetters [145] = -1;
arabicLetters [146] = -1;
arabicLetters [147] = -1;
arabicLetters [148] = -1;
arabicLetters [149] = -1;
arabicLetters [150] = -1;
arabicLetters [151] = -1;
arabicLetters [152] = -1;
arabicLetters [153] = -1;//SIGN_PBUH;
arabicLetters [154] = -1;
arabicLetters [155] = -1;//SIGN_ALYSLAM;
arabicLetters [156] = ARABIC_QUESTION_MARK;
arabicLetters [157] = MADDAH_ABOVE;
arabicLetters [158] = -1;
arabicLetters [159] = -1;
arabicLetters [160] = -1;
arabicLetters [161] = -1;
arabicLetters [162] = -1;
arabicLetters [163] = -1;
arabicLetters [164] = -1;
arabicLetters [165] = -1;
arabicLetters [166] = -1;
arabicLetters [167] = -1;
arabicLetters [168] = -1;
arabicLetters [169] = -1;
arabicLetters [170] = -1;
arabicLetters [171] = -1;
arabicLetters [172] = -1;
arabicLetters [173] = -1;
arabicLetters [174] = -1;
arabicLetters [175] = -1;
arabicLetters [176] = -1;
arabicLetters [177] = -1;
arabicLetters [178] = -1;
arabicLetters [179] = -1;
arabicLetters [180] = -1;
arabicLetters [181] = -1;
arabicLetters [182] = -1;
arabicLetters [183] = -1;
arabicLetters [184] = SIGN_RAHMNAT_ALEY;
arabicLetters [185] = SUPERSCRIPT_ALEF;
arabicLetters [186] = SIGN_RAZI_ALLAH;
arabicLetters [187] = 0x0022;// ascii of "
arabicLetters [188] = ARABIC_COMMA;
arabicLetters [189] = -1;
arabicLetters [190] = ARABIC_FULL_STOP;
arabicLetters [191] = 0x002F;// ascii of /
arabicLetters [192] = SUKUN;
arabicLetters [193] = -1;
arabicLetters [194] = -1;
arabicLetters [195] = -1;
arabicLetters [196] = -1;
arabicLetters [197] = -1;
arabicLetters [198] = -1;
arabicLetters [199] = -1;
arabicLetters [200] = -1;
arabicLetters [201] = -1;
arabicLetters [202] = -1;
arabicLetters [203] = -1;
arabicLetters [204] = -1;
arabicLetters [205] = -1;
arabicLetters [206] = -1;
arabicLetters [207] = -1;
arabicLetters [208] = -1;
arabicLetters [209] = -1;
arabicLetters [210] = -1;
arabicLetters [211] = -1;
arabicLetters [212] = -1;
arabicLetters [213] = -1;
arabicLetters [214] = -1;
arabicLetters [215] = -1;
arabicLetters [216] = -1;
arabicLetters [217] = -1;
arabicLetters [218] = -1;
arabicLetters [219] = 0x005B;// ascii of [
arabicLetters [220] = 0x005C; // ascii of \
arabicLetters [221] = 0x005D; // ascii of ]
arabicLetters [222] = 0x0027;// ascii of '
arabicLetters [223] = -1;
arabicLetters [224] = -1;
arabicLetters [225] = -1;
arabicLetters [226] = -1;
arabicLetters [227] = -1;
arabicLetters [228] = -1;
arabicLetters [229] = -1;
arabicLetters [230] = -1;
arabicLetters [231] = -1;
arabicLetters [232] = -1;
arabicLetters [233] = -1;
arabicLetters [234] = -1;
arabicLetters [235] = -1;
arabicLetters [236] = -1;
arabicLetters [237] = -1;
arabicLetters [238] = -1;
arabicLetters [239] = -1;
arabicLetters [240] = -1;
arabicLetters [241] = -1;
arabicLetters [242] = -1;
arabicLetters [243] = -1;
arabicLetters [244] = -1;
arabicLetters [245] = -1;
arabicLetters [246] = -1;
arabicLetters [247] = -1;
arabicLetters [248] = -1;
arabicLetters [249] = -1;
arabicLetters [250] = -1;
arabicLetters [251] = -1;
arabicLetters [252] = -1;
arabicLetters [253] = -1;
arabicLetters [254] = -1;
arabicLetters [255] = -1;

//-----------function---------
/** TODO. it should be in array for direct use*/
function getCharacter(event)
{
	var KeyID = event.keyCode;
	//alert("KeyID: "+KeyID);
	if(KeyID == 109){
		KeyID = 60;
	}else if(KeyID == 107){
		KeyID = 61;
	}
	if(KeyID != SHIFT && event.shiftKey){
		if((KeyID >= 65 && KeyID <= 90) || (KeyID >= 59 && KeyID <= 61)){
			KeyID += 32;
		}else if(KeyID >= 188 && KeyID <= 222){
			KeyID -= 35;
		}else if(KeyID >= 48 && KeyID <= 57){
			KeyID += 83;
		}
	}
	var unicode = arabicLetters[KeyID];
		
	if(unicode == -1){
		return "";
	}
	return String.fromCharCode(unicode);
}

//------------writing function---------------
navigator.ie = navigator.appName.indexOf ("Internet Explorer") >= 0;
function insertText(ctrl, str) 
{//alert("1");
		if (document.selection) // IE
		{//alert("2");
			var range = ctrl.ownerDocument.selection.createRange ();
			range.text = str;
	        range.collapse (false);
			range.select ();	
		}
		else if (ctrl.selectionStart != 'undefined') // FF
		{//alert("3");
			var beforeTxt, afterTxt, selectionTxt;
			var selStart = ctrl.selectionStart;
		    beforeTxt= ctrl.value.substring(0, ctrl.selectionStart);
		    selectionTxt = ctrl.value.substring(ctrl.selectionStart, ctrl.selectionEnd);
		    afterTxt = ctrl.value.substring(ctrl.selectionEnd, ctrl.value.length);
			//alert("before: "+before+", selection: "+selection+", after: "+after);
			//alert("selStart: "+selStart+", ctrl.selectionEnd: "+ctrl.selectionEnd);
			selectionTxt = str;
			ctrl.value = beforeTxt + selectionTxt + afterTxt;
			ctrl.selectionStart = selStart+1;
			ctrl.selectionEnd= selStart+1;
			ctrl.focus();
		}
}

function deleteText (ctrl, dir) 
{//alert("1");
		if (document.selection) // IE
		{//alert("2");
			var range = ctrl.ownerDocument.selection.createRange ();
			if (dir < 0 && range.text.length <= 0)
			{//alert("bs"+range.text.length );
		         range.moveStart ("character", -1);
		    }     
   		else if(dir >= 0 && range.text.length <= 0)
   		{//alert("del");
      		range.moveEnd ("character", 1);
      	}	
      	range.text = "";
			range.collapse (false);
			range.select ();
		}
		else if (ctrl.selectionStart != 'undefined') // FF
		{//alert("3");
			var beforeTxt, afterTxt, selectionTxt;
			var selStart = ctrl.selectionStart;
		    beforeTxt= ctrl.value.substring(0, ctrl.selectionStart);
		    selectionTxt = ctrl.value.substring(ctrl.selectionStart, ctrl.selectionEnd);
		    afterTxt = ctrl.value.substring(ctrl.selectionEnd, ctrl.value.length);
			//alert("before: "+before+", selection: "+selection+", after: "+after);
					
			if (dir < 0) //bs
			{
				if(selectionTxt.length > 0)
				{
					ctrl.value = beforeTxt +  afterTxt;	
					ctrl.selectionStart = selStart;
					ctrl.selectionEnd= selStart;
				}
				else if(beforeTxt.length > 0)
				{
					ctrl.value = beforeTxt.substring(0, beforeTxt.length - 1) +  afterTxt;	
					ctrl.selectionStart = selStart - 1;
					ctrl.selectionEnd= selStart - 1;
				}	
			}
			else //del
			{
				if(selectionTxt.length > 0)
				{
					ctrl.value = beforeTxt +  afterTxt;	
					ctrl.selectionStart = selStart;
					ctrl.selectionEnd= selStart;
				}
				else if(afterTxt.length > 0)
				{
					ctrl.value = beforeTxt +  afterTxt.substring(1, afterTxt.length);	
					ctrl.selectionStart = selStart;
					ctrl.selectionEnd= selStart;
				}	
			}			
			ctrl.focus();
		}
}

function eventPreventDefault (e) 
{
	if (e) 
	{
   if(e.keyCode!=9){ //Skips blocking if TAB is pressed
   e.returnValue = false;

   if (e.preventDefault){
      e.preventDefault ();
      }
   }
	 }
	}
function keydown(e, ctrl)
{ 
		//alert("down: "+e.keyCode);
		if(e.ctrlKey )//&& e.keyCode == 116/* F5 
		{
	   		//alert("down F5");
	   		return;
	   	}
		
    	if (e.keyCode == BACK_SPACE  || e.keyCode == DELETE ){
	      eventPreventDefault (e);
    	}
		
    	if(e.keyCode == BACK_SPACE)
		{
			deleteText (ctrl, -1);
		}
		else if(e.keyCode == DELETE)
		{
			deleteText (ctrl, 0);
		}
		else if(e.keyCode == ENTER)
		{
			insertText(ctrl, "\n");
			
		}else
		{
			var ch = getCharacter(e);
			if(ch.length > 0){
				insertText(ctrl, ch);
			}
		}
		
		//todo all key behaviour.
		
}

function keypress(e)
{
		//alert("press: "+e.keyCode);
		if(e.ctrlKey )//&& e.keyCode == 116/* F5 
		{
	   		//alert("press F5");
	   		return;
	   	}	
		if (!navigator.ie && e.keyCode >= 33 && e.keyCode <= 40){ // not arrows?
	      return;
	    }
		eventPreventDefault (e);		   
}

//------------editing function---------------
